# Сбербанк как highload-система в финтехе

## 1. Тема и целевая аудитория

### Тема

**Сервис:** Сбербанк Онлайн
**Аналоги:** Тбанк, ВТБ, Альфа-банк, Райффайзенбанк

### Целевая аудитория

Каждый 100-ый взрослый человек на Земле использует Сбербанк Онлайн [[2]](#источники).

Соотношение мужской аудитории к женской - 45% на 55% [[2]](#источники).

Рост аудитории на 2019 г. [[2]](#источники):
* +61% - среди клиентов старше 45 лет;
* +41% - младше 20 лет;
* +29% - 20 до 45 лет.

За пределами России услугами Сбербанка пользовались около 675 тыс. клиентов. [[7]](#источники)

Страна | Число клиентов
-|-
Казахстан | >1 млн. [[8]](#источники)
Беларусь | 700 тыс. [[8]](#источники)
Украина | 120 тыс. [[8]](#источники)
Сербия | 150 тыс. [[7]](#источники)
Чехия | 125 тыс. [[7]](#источники)
Европейские страны | >700 тыс. [[8]](#источники)

Доля Сбербанка на рынке в России [[1]](#источники):
- Активы: 30.1%
- Депозиты физических лиц: 44.6%
- Кредиты физическим лицам: 41.4%
- Корпоративные кредиты: 32.8%
- Зарплатные клиенты: 56.6%
- Остатки на кредитных картах: 45.2%
- Ипотечные кредиты: 55.8%

Вклады чаще всего открывают 20 - 29-летние - 33% [[2]](#источники).

Кредиты больше всех оформляют 30 - 39-летние - 47% [[2]](#источники).

Женщины оформляют почти 60 % всех кредитов и вкладов [[2]](#источники).

### Функциональность системы

**Функции, характеризующие сервис:**

- Просмотр баланса и истории операций
- Денежные переводы :между своими счетами, другим клиентам Сбера, по номеру телефона
- Оплата услуг: ЖКХ, штрафы, налоги, мобильная связь
- Открытие вкладов и оформление кредитов
- Пуш-уведомления о транзакциях
- Антифрод, проверка безопасности

**Ключевой функционал сервиса** - проведение платежей и переводов

## 2. Расчет нагрузки

### Продуктовые метрики

Метрика | Значение
-|-
Активные клиенты, 2025 г. | >110 млн (+0,5 млн с начала года) [[6]](#источники)
Monthly Active Users (приложение + веб), 2025 | 84.3 млн [[6]](#источники), [[5]](#источники), [[3]](#источники)
Daily Active Users (приложение + веб), 2025 | 42.5 млн [[6]](#источники), [[5]](#источники)
Соотношение DAU/MAU, 2025 | >50% [[6]](#источники)
Новые сессии в минуту, 2023 г. | 110 тыс./мин. [[4]](#источники)
Активные сессии одновременно, 2023 г. | >550 тыс. [[4]](#источники)
Длительность активной сессии, 2023 г. | ~5 мин. [[4]](#источники)
Частота входов на одного клиента, 2019 | 25 раз в месяц [[2]](#источники)

### Технические метрики

#### Объем хранилища

В месяц человек пользуется сервисом 25 раз, а средняя продолжительность одной сессии - 5 минут.  
Совокупное время пребывания пользователя в приложении в месяц:  
`25 * 5 мин. = 125 мин`.

При условии совершения 1 транзакции в минуту в спокойном режиме, среднее количество транзакций на одного пользователя в месяц составляет:  
`125 транзакций`.

Средний размер одного электронного чека: `60 КБ` (максимум `100 КБ`).  
Тогда объём данных на одного пользователя в месяц:  
`125 транзакций * 60 КБ = 7500 КБ ≈ 7.32 МБ`.

Ежемесячная аудитория приложения - `84.3 млн` пользователей.  
Значит, ежемесячный объём данных для всей аудитории:  
`84.3 млн * 7.32 МБ ≈ 588.5 ТБ`.

Годовой объём:  
`12 месяцев * 588.5 ТБ ≈ 7.1 ПБ`.

ПАО Сбербанк функционирует с 1991 года, то есть на момент 2025 года - `34 года`.  
Совокупный объём данных за весь период (при условии стабильной ежемесячной аудитории и активности):  
`34 года * 7.1 ПБ ≈ 241.4 ПБ`.

#### RPS (Requests Per Second)

Суммарное кол. запросов в секунду (RPS) составляет >120 тыс./сек. [[4]](#источники).  

Предположим, что за 5-минутную сессию типичный пользователь совершает:
Действие | Раз за сессию | Раз в сутки *
-|-|-
Авторизация | 1/30 ≈ 0.033 [[9]](#источники) | 1,4 тыс
Получение баланса | 2-3 | 106.25 млн
Получение чека | 0.3–0.6 | 19.13 млн
История платежей | 2/7 ≈ 0.3 | 12.7 млн
Открытие вкладов | - | 1.5 тыс [[15]](#источники)
Открытие кредит | - | 50 тыс [[16]](#источники)
Открытие ипотек | - | 3.1 тыс [[17]](#источники)
Перевод по СБП | - | 50.5 млн [[13]](#источники)
Перевод по QR | - | 11 млн [[10]](#источники), [[11]](#источники)
Оплата по биометрии | - | 660 тыс [[10]](#источники), [[11]](#источники)
Оплата банковскими картами | - | 163 млн [[12]](#источники)
Перевод международный | - | 4.7 тысяч [[14]](#источники)

\* Рассчитано на основе DAU = 42.5 млн и 1 сессии на активного пользователя в день.

Тип запроса	| Средний RPS (Операций в сутки / 86 400)	| Пиковый RPS (тройной средний RPS)
-|-|-
Авторизация | 16 | 48
Получение баланса | 1230 | 3689
Получение чека | 221 | 664
История платежей | 147 | 441
Открытие вкладов | 0.02 | 0.06
Открытие кредит | 0.6 | 1.8
Открытие ипотек | 0.04 | 0.12
Перевод по СБП | 584 | 1752
Перевод по QR | 127 | 381
Оплата по биометрии | 8 | 24
Оплата банковскими картами | 1887 | 5661
Перевод международный | 0.05 | 0.15
ИТОГО | 4221 | 12662

#### Сетевой трафик

Запросов в секунду (RPS) составляет 221. 
Также средний размер одного чека — `60 КБ = 61440 байт`.

Тогда объём данных в секунду:  
`221 запросов/сек * 61440 байт = 13 578 240 байт/с ≈ 108.6 Мбит/с` — пиковое потребление.

Суммарный суточный объём данных:  
`13 578 240 байт/с * 86 400 сек = 1 173 159 936 000 байт ≈ 1 173 ГБ/сутки ≈ 1.17 ТБ/сутки`.

## 3. Глобальная балансировка нагрузки

### Функциональное разбиение по доменам

Домен | Функционал | Средний RPS | Пиковый RPS | Распределение нагрузки, %
-|-|-|-|-
``wallet`` | Получение баланса, чела и истории платежей | 1598 | 4794 | 37,9
``transaction`` | Открытие вкладов, кредитов, вкладов; оплата по СБП, QR, биометрии, банковскими картами, международные | 2607 | 7818 | 62,1
``api`` | Весь остальной функционал, в частности, авторизация |

\* Составлено на основе таблицы из раздела "Расчет нагрузки".

### Расположение ДЦ

Группировка  ДЦ по регионам ([приложение B](#приложение-b)). Рассматривались города-миллионники.

#### Центральный регион

| Город | Население | Доля от РФ | DAU (общий DAU * доля от РФ) |
|-------|-----------|------------|-----|
| Москва | ~13.1 млн | 9.0% | 3 825 000 |
| Нижний Новгород | ~1.2 млн | 0.8% | 340 000 |
| Воронеж | ~1.0 млн | 0.7% | 297 500 |
| Волгоград | ~1.0 млн | 0.7% | 297 500 |
| **Итого** | **~16.4 млн** | **11.2%** | **4 760 000** |

#### Северо-Западный регион

| Город | Население | Доля от РФ | DAU |
|-------|-----------|------------|-----|
| Санкт-Петербург | ~5.6 млн | 3.8% | 1 615 000 |
| **Итого** | **~5.6 млн** | **3.8%** | **1 615 000** |

#### Уральский регион

| Город | Население | Доля от РФ | DAU |
|-------|-----------|------------|-----|
| Екатеринбург | ~1.5 млн | 1.1% | 467 500 |
| Челябинск | ~1.2 млн | 0.8% | 340 000 |
| Уфа | ~1.2 млн | 0.8% | 340 000 |
| Пермь | ~1.0 млн | 0.7% | 297 500 |
| **Итого** | **~4.9 млн** | **3.4%** | **1 445 000** |

#### Сибирский регион

| Город | Население | Доля от РФ | DAU |
|-------|-----------|------------|-----|
| Новосибирск | ~1.6 млн | 1.1% | 467 500 |
| Красноярск | ~1.2 млн | 0.8% | 340 000 |
| Омск | ~1.1 млн | 0.8% | 340 000 |
| **Итого** | **~3.9 млн** | **2.7%** | **1 147 500** |

#### Приволжский регион

| Город | Население | Доля от РФ | DAU |
|-------|-----------|------------|-----|
| Казань | ~1.3 млн | 0.9% | 382 500 |
| Самара | ~1.2 млн | 0.8% | 340 000 |
| **Итого** | **~2.5 млн** | **1.7%** | **722 500** |

#### Южный регион

| Город | Население | Доля от РФ | DAU |
|-------|-----------|------------|-----|
| Ростов-на-Дону | ~1.1 млн | 0.8% | 340 000 |
| Краснодар | ~1.1 млн | 0.8% | 340 000 |
| **Итого** | **~2.3 млн** | **1.6%** | **680 000** |

#### Сводка по всем регионам

| Регион | Население | DAU | Доля от общего DAU |
|--------|-----------|-----|-------------------|
| Центральный | ~16.4 млн | 4 760 000 | 11.2% |
| Северо-Западный | ~5.6 млн | 1 615 000 | 3.8% |
| Уральский | ~4.9 млн | 1 445 000 | 3.4% |
| Сибирский | ~3.9 млн | 1 147 500 | 2.7% |
| Приволжский | ~2.5 млн | 722 500 | 1.7% |
| Южный | ~2.3 млн | 680 000 | 1.6% |

#### Сводка по всем рассмотренным городам для размещения ДЦ (по DAU)

Город | Регион | DAU | Доля от общего DAU | Приоритет |
------|---------|-----|-------------------|-----------|
Москва | Центральный | 3 825 000 | 9.0% | Критический |
Санкт-Петербург | Северо-Западный | 1 615 000 | 3.8% | Высокий |
Екатеринбург | Уральский | 467 500 | 1.1% | Высокий |
Новосибирск | Сибирский | 467 500 | 1.1% | Высокий |
Казань | Приволжский | 382 500 | 0.9% | Средний |
Нижний Новгород | Центральный | 340 000 | 0.8% | Средний |
Челябинск | Уральский | 340 000 | 0.8% | Средний |
Уфа | Уральский | 340 000 | 0.8% | Средний |
Красноярск | Сибирский | 340 000 | 0.8% | Средний |
Омск | Сибирский | 340 000 | 0.8% | Средний |
Самара | Приволжский | 340 000 | 0.8% | Средний |
Ростов-на-Дону | Южный | 340 000 | 0.8% | Средний |
Краснодар | Южный | 340 000 | 0.8% | Средний |
Воронеж | Центральный | 297 500 | 0.7% | Низкий |
Волгоград | Центральный | 297 500 | 0.7% | Низкий |
Пермь | Уральский | 297 500 | 0.7% | Низкий |

#### Сводная таблица RPS доменов по ДЦ

RPS домена в городе = (DAU города / общий DAU) * Общий RPS домена

| ДЦ | DAU | RPS ``wallet`` | RPS ``transaction`` | Сумма пред. RPS |
|--------|-----|------------|-----------------|-----------|
| Москва | 3 825 000 | 144 | 235 | 379 |
| Санкт-Петербург | 1 615 000 | 61 | 99 | 160 |
| Екатеринбург | 467 500 | 18 | 29 | 47 |
| Новосибирск | 467 500 | 18 | 29 | 47 |
| Казань | 382 500 | 14 | 23 | 37 |
| Ростов-на-Дону | 340 000 | 13 | 21 | 34 |

#### Таблица расстояний между городами (км)

| Город | Москва | Санкт-Петербург | Екатеринбург | Новосибирск | Казань | Ростов-на-Дону |
|-----------|--------|------------------|--------------|-------------|--------|----------------|
| Москва | - | 710 | 1 420 | 3 360 | 820 | 1 090 |
| Санкт-Петербург | 710 | - | 2 130 | 3 380 | 1 530 | 1 800 |
| Екатеринбург | 1 420 | 2 130 | - | 1 460 | 1 140 | 2 080 |
| Новосибирск | 3 360 | 3 380 | 1 460 | - | 2 350 | 3 540 |
| Казань | 820 | 1 530 | 1 140 | 2 350 | - | 1 530 |
| Ростов-на-Дону | 1 090 | 1 800 | 2 080 | 3 540 | 1 530 | - |

#### Расчет примерной задержки связи между ДЦ (мс)

По примеру [приложения A](#приложение-a).

**Формула:** Задержка = (Расстояние * 1.7) / 200 + 10 мс, где:
- 1.7 - коэффициент увеличения пути (оптоволокно не идет по прямой),
- 200 - скорость распространения сигнала в оптоволокне (км/мс) [[18]](#источники),
- 10 мс - запас на сетевое оборудование и маршрутизацию.

| Город | Москва | Санкт-Петербург | Екатеринбург | Новосибирск | Казань | Ростов-на-Дону |
|-----------|--------|------------------|--------------|-------------|--------|----------------|
| Москва | - | 11 [[0]](#источники) | 22 | 39 | 17 | 19 |
| Санкт-Петербург | 11 [[0]](#источники) | - | 28 | 39 | 23 | 25 |
| Екатеринбург | 22 | 28 | - | 22 | 20 | 28 |
| Новосибирск | 39 | 39 | 22 | - | 30 | 40 |
| Казань | 17 | 23 | 20 | 30 | - | 23 |
| Ростов-на-Дону | 19 | 25 | 28 | 40 | 23 | - |

### Схемы балансировки

> DNS - самый простой механизм балансировки, и балансировать таким образом можно любые системы, в которых доступ к сервису происходит по имени [[19]](#источники).

> Суть балансировки на базе Anycast: мы из разных географических участков анонсируем один и тот же префикс сети. Таким образом, каждый запрос клиента будет маршрутизироваться на ближайший к нему сервер, который будет его обрабатывать [[19]](#источники).

**Вывод:** глобальная балансировка нагрузки не требуется. Все пользователи могут быть направлены в единый московский ДЦ по следующим причинам:
- 95% трафика генерируется в пределах России,
- максимальная задержка до Москвы ([таблица связи между ДЦ](#расчет-примерной-задержки-связи-между-дц-мс)) не превышает 40 мс даже для Дальнего Востока.

### Локальная балансировка нагрузки

#### Схема балансировки нагрузки

![Схема балансировки нагрузки](/materials/highload_local_balance.png)

**Локальная балансировка нагрузки состоит из нескольких уровней:**

**1. Клиентский**

*Функции:*
- Инициирует HTTP/HTTPS запросы.

**2. L7 Балансировщики**

*Функции:*
- SSL Termination вынесен на отдельные L7 серверы
- маршрутизация по доменам: распределение на L4 кластеры по типам запросов

Показатель | Значение
-|-
Пиковый RPS | 12662
Производительность 1 ядра при 100 KB ответа | 4830 [[22]](#источники)
Требуется ядер | 12662 / 4830 = 2.6 ≈ 3 ядра 
Схема резервирования | N+1 (1 рабочий + 1 резервный)
Всего серверов | 2 NGINX-сервера, 4-ядерная 

**3. L4 Virtual Server Clusters**

*Разделение по доменам с разными VIP:*
* **Wallet:** VIP 100.100.100.101
* **Transaction:** VIP 100.100.100.102
* **API:** VIP 100.100.100.103

*Технология [(приложение C)](#приложение-c) [(приложение D)](#приложение-d):* Direct Routing

- Каждый сервер анонсирует общий VIP
- L4 балансировщики и application servers используют один VIP
- Ответы идут напрямую от app servers к клиенту (пунктирная линия на [схеме балансировки нагрузки](#схема-балансировки-нагрузки)), поэтому высокая производительность, ведь нет bottleneck на возврате трафика, ответы идут напрямую от application servers к клиентам
- Сервера должны быть в одной физической сети, однако БД лежат с ДЦ по разным availability-зонам (latency равна 1.5 мс)

Домен | Пиковый RPS | Распределение нагрузки, % | Кол. нод (Пиковый RPS / 42тыс. RPS [[23]](#источники)) | Схема резервирования
-|-|-|-|-
``wallet`` | 4794 | 37,9 | 1 | N+1
``transaction`` | 7818 | 62,1 | 1 | N+1
``api`` | - | 1 | 1 | N+1

**4. Application Servers**

*Разделение по доменам:*
- сервер Wallet
- сервер Transaction
- сервер API

**5. Database Layer**

- Master DB - для операций записи (Transaction)
- 2 реплики Replica DB - для операций чтения (Wallet, API)

### Ограничители производительности:

**0. Исходные данные:**
- **Средний RPS:** 4205
- **Пиковый RPS:** 12662 (* 3 коэффициент)
- **Пиковый трафик:** 108.6 Мбит/с * 3 = 326 Мбит/с

**1. SSL Termination:**
- **1 ядро CPU:** 1248 RSA-2048 подписей(рукопожатий)/сек*
- **Пиковый RPS:** 12662 запросов/сек
- **Требуется:** 12662 / 1248 = 10.1 ≈ **11 ядер**

При худшем случае (полный TLS handshake с RSA-2048 для каждого запроса, без TLS session resumption и HTTP keep-alive) для обработки SSL handshakes на пиковой нагрузке требуется минимум **11 CPU-ядер**.

\* Значение взято из собственной машины с характеристиками:
- процессор: Intel(R) Core(TM) Ultra 5 125H CPU @ 2.50 ГГц;
- архитектура: x86-64;
- оперативная память: 16 ГБ;
- операционная система: Ubuntu 24.04.3 LTS 64-разрядная система;
- версия ядра: 6.14.0-32-generic.

**2. Пропускная способность сети:**
- **Пиковый трафик:** 326 Мбит/с 
- **1 x 10G порт:** 10 Гбит/с полезной нагрузки [[20]](#источники) [[21]](#источники)
- **Требуется:** 326 / 10000 Мбит/с = 0.0326 порта ≈ **1 порт**

Пиковый трафик составляет менее 35% от пропускной способности 1G Ethernet и менее 4% от 10G. Следовательно, сетевой интерфейс не ограничивает производительность, и даже 1G порт будет более чем достаточен.

### Логическая схема БД

#### Схема таблиц

![Схема таблиц](/materials/db_local.png)

Ссылка: [Схема таблиц в dbdiagram.io]()

#### Описание таблиц

| Название таблицы      | Назначение |
|------------------------|-----------|
| `users`                | Хранит профиль пользователя: контактные данные (телефон, email), хэш пароля, ФИО, дату рождения и временные метки создания/обновления. |
| `accounts`             | Представляет банковские счета пользователей: баланс, валюта, статус и привязка к пользователю (`user_id`). |
| `transactions`         | Фиксирует все денежные операции между счетами: отправитель (`from_account`), получатель (`to_account`), сумма, валюта, категория (еда, транспорт), статус, описание и тип (перевод, оплата и тп.). |
| `receipts`             | Хранит информацию о чеках или сканах, прикреплённых к транзакциям: путь к файлу, размер и временная метка. Связан с `transactions`. |
| `user_cards`           | Содержит данные банковских карт: зашифрованный номер, срок действия, хэш CVV, статус и привязку к пользователю. |
| `deposits`             | Отслеживает вклады (депозиты): сумма, процентная ставка, срок в месяцах, дата открытия и дата окончания. Привязан к счёту (`account_id`). |
| `mortgages`            | Хранит данные по ипотечным кредитам: сумма кредита, оценочная стоимость недвижимости, срок в годах. Привязан к счёту. |
| `loans`                | Регистрирует займы (потребительские, автокредиты и др.): сумма, ставка, срок, тип, дата выдачи и дата погашения. Привязан к счёту. |
| `session_cache`        | Используется для временного хранения пользовательских сессий: данные в формате JSONB и время истечения сессии. |

#### Требования к консистентности

> *Современные системы работают со следующими моделями консистентности [[24]](#источники):*
> - Строгая консистентность (Strong Consistency) — все операции чтения возвращают значение самой последней успешной операции записи
> - Последовательная консистентность (Sequential Consistency) — операции выполняются в том порядке, в котором они были запущены в каждом узле
> - Причинная консистентность (Causal Consistency) — если операция A логически предшествует операции B, то все узлы увидят их в этом порядке
> - Итоговая консистентность (Eventual Consistency) — при отсутствии обновлений все узлы системы в конечном итоге сходятся к одному значению

| Таблица | Модель консистентности | Обоснование, пример
|--------|----------------------------------|-
| `users` | Строгая консистентность| После смены email или пароля все последующие запросы должны немедленно видеть новое значение
| `accounts` | Строгая консистентность | При переводе средств чтение баланса должно отражать самую последнюю успешную транзакцию
| `transactions` | Строгая консистентность | После успешного завершения операции все последующие чтения должны возвращать её как существующую
| `receipts` | Итоговая консистентность | Чек — подтверждающий документ, не участвующий в логике списания
| `user_cards` | Строгая консистентность | Активная карта без привязки к пользователю — угроза безопасности
| `deposits` | Строгая консистентность | Данные должны быть точными и синхронизированы с `accounts`
| `mortgages` | Строгая консистентность | -//-
| `loans` | Строгая консистентность | -//-
| `session_cache` | Итоговая консистентность | Сессии временные, могут быть утеряны без ущерба для данных

#### Размеры таблиц

| Таблица | Размер таблицы, байт | Расчеты |
|---------|---------------------|--------|
| `users` | 165 | user_id(4) + phone(16) + email(30) + password_hash(60) + first_name(15) + last_name(20) + birth_date(4) + created_at(8) + updated_at(8) |
| `accounts` | 46 | account_id(4) + user_id(4) + balance(8) + currency(4) + status(10) + timestamps(16) |
| `transactions` | 150 | ids(12) + amount(8) + currency(4) + category(15) + status(10) + description(50) + type(10) + merchant(30) + timestamp(8) |
| `receipts` | 120 | ids(8) + file_path(100) + file_size(4) + timestamp(8) |
| `user_cards` | 141 | card_id(4) + user_id(4) + card_number_encrypted(50) + expiry(5) + cvv_hash(60) + status(10) + timestamp(8) |
| `deposits` | 37 | ids(8) + amount(8) + rate(5) + term(4) + timestamps(12) |
| `mortgages` | 44 | ids(8) + amounts(16) + property_value(8) + term(4) + timestamp(8) |
| `loans` | 37 | Аналогично с `deposits` |
| `session_cache` | 216 | session_id(4) + user_id(4) + data(jsonb, 200) + expires(8) |

| Таблица | Размер данных |
-|-
`users` | [110 млн*](#продуктовые-метрики) * 165 байт = **18.15 ГБ**
`accounts` | Пусть минимум одна карта у клиента: [110 млн*](#продуктовые-метрики) * 165 байт = **18.15 ГБ**
`transactions` | На основе расчетов [объема хранилища](#объем-хранилища): 125 * 150 байт * 84.4 млн * 12 месяцев * 34 года = **646.8 ПБ**
`receipts` | На основе расчетов [объема хранилища](#объем-хранилища): 125 * 120 байт * 84.4 млн * 12 месяцев * 34 года = **517.4 ПБ**
`user_cards` | Пусть минимум одна карта: [110 млн*](#продуктовые-метрики) * 141 байт = **15.51 ГБ**
`deposits` | (2025 г. - 1981 г.) * (530 тыч [[15]](#источники) (за пол года) * 2) * 37 байт =  **1.73 ТБ**
`mortgages` | (2025 г. - 1981 г.) * 1.15 млн [[17]](#источники) * 44 байт = **2.22 ТБ**
`loans` | (2025 г. - 1981 г.) * (1.56 млн [[16]](#источники) (за месяц) * 12 месяцев) * 37 байт = **30.5 ТБ**
`session_cache` | Активные сессии одновременно [550 тыс*](#продуктовые-метрики) * 216 байт = **118.8 МБ**

| Таблица | Средняя нагрузка (QPS) на запись | Средняя нагрузка (QPS) на чтение
|-|-|-
| `users` | 1/182 дней / 86400 ≈ 7 | 2606 (оплата) + ~1 (открытие услуг) = 2607
| `accounts` | ~2606 (оплата = изменение счета) | 1230 (получение баланса)  
| `transactions` | 1 | 2606 (оплата) + 147 (история платежей)
| `receipts` | 1 | 221 (получения чека)
| `user_cards` | 1 | 2606 (оплата)
| `deposits` | 1 | 2/30 дней / 86400 ≈ 8
| `mortgages` | 1 | 2/30 дней / 86400 ≈ 8
| `loans` | 1 | 2/30 дней / 86400 ≈ 8
| `session_cache` | 1 | 16 (авторизация)

\* Значения основаны на [таблице RPS действий](#rps-requests-per-second).

### Источники

0. [Экспертная оценка, опыт Александра Быкова :)](https://vk.com/inited)
1. [На-Связи.ru - Статистика Сбербанка на 2018 год](https://forum.na-svyazi.ru/?showtopic=2874293)
2. [Амурская правда - Статистика пользователей Сбербанк Онлайн](https://ampravda.ru/2019/09/21/91076.html)
3. [VK - Статистика месячной аудитории на 2023 год](https://vk.com/wall-22522055_2157676)
4. [Habr - 110 тысяч новых сессий в минуту: архитектура Сбербанк Онлайн](https://habr.com/ru/companies/sberbank/articles/728612/)
5. [Bankinform - Клиентская база Сбербанка в 2025 году](https://bankinform.ru/news/137349)
6. [SberBank Investor Relations - Финансовая отчетность за 7 месяцев 2025 года](https://www.sberbank.com/ru/investor-relations/groupresults/august11_publication_oftheras_in_7months)
7. [В каких странах есть офисы Сбербанка? - Рамблер/личные финансы](https://finance.rambler.ru/business/47064160-ot-kazahstana-i-ukrainy-do-kitaya-i-indii-v-kakih-stranah-est-ofisy-sberbanka/)
8. [Российские банки за рубежом: какие банки есть в Европе, США](https://brobank.ru/rossijskie-banki-za-rubezhom/)
9. [Как часто пользователи взаимодействуют с приложением?](https://sky.pro/wiki/money/top-10-prilozhenij-gde-mozhno-kopit-dengi-obzor-luchshih-reshenij/)
10. [Центробанк РФ - Заседание по финстабильности, 28 августа 2025](https://cbr.ru/press/event/?id=26885)  
11. [Интерфакс - Бизнес новости, 28 августа 2025](https://www.interfax.ru/business/1044499)
12. [Клерк.ру: Последние изменения для бухгалтеров, 10 июня 2025](https://www.klerk.ru/buh/news/650543/)
13. [ЦБ РФ: Аналитический обзор Системы быстрых платежей, 2025 год](https://cbr.ru/analytics/nps/sbp/2_2025/)
14. [ВТБ сообщает о семикратном росте международных переводов, октябрь 2024](https://finance.mail.ru/2024-10-16/vtb-zafiksiroval-semikratnyy-rost-transgranichnyh-perevodov-63231064/)
15. [Актуальные события в банковской сфере, 28 июля 2025 г.](https://www.banki.ru/news/lenta/?id=11016273)
16. [Finance.Mail.ru: Выдача потребительских кредитов в России в июле выросла на 13%](https://finance.mail.ru/article/vydacha-potrebitelskih-kreditov-v-rossii-v-iyule-vyrosla-na-13-67504477/)
17. [РБК Недвижимость: Новости рынка недвижимости](https://realty.rbc.ru/news/6791fd2e9a794700663e2948)
18. [Занимательный оптокабель](https://nag.ru/news/18705)
19. [Сравнительный анализ методов балансировки трафика. HighLoad++ Junior / Хабр](https://habr.com/ru/companies/oleg-bunin/articles/319262/)
20. [What is the difference between 10G and 2.5G ports？- Walsun](https://www.walsun.com/knowledge/What-is-the-difference-between-10G-and-25G-ports_1110.html)
21. [Типы портов коммутатора](https://router.ru/blog/manual-settings/1927-technologies/article-16147/)
22. [Testing the Performance of NGINX and NGINX Plus Web Servers – NGINX Community Blog](https://blog.nginx.org/blog/testing-the-performance-of-nginx-and-nginx-plus-web-servers)
23. [HAProxy Kubernetes Ingress Controller Twice as Fast with Lowest CPU vs. Four Competitors | OpsMatters](https://opsmatters.com/posts/haproxy-kubernetes-ingress-controller-twice-fast-lowest-cpu-vs-four-competitors)
24. [Консистентность данных: что это и почему она так важна](https://sky.pro/wiki/analytics/konsistentnost-dannyh-chto-eto-i-pochemu-ona-tak-vazhna/)
### Приложения

### Приложение A

![Лекция 2](/materials/p1.png)

### Приложение B

![Карта России](/materials/map.png)

### Приложение C

![Уровень 3: Virtual Server via Direct Routing](/materials/local_balance.png)

### Приложение D

![Балансировка L4](/materials/bl4.jpg)

Источник: [Миллион PPS в секунду — связанность и балансировка / Хабр](https://habr.com/ru/articles/179535/)
